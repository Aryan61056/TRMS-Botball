#include <kipr/wombat.h>

void movement();

int main()
{

    enable_servos();

    int right_motor = 0;
    int left_motor = 1;

    int right_color = 0;
    int left_colr = 1;

    int arm = 1;
    int hand = 2;

    int clench = 2250;
    int open = 400;

    int up = 145;
    int down = 1270;

    movement(arm,up);
    movement(hand,open);

    while(1){

        motor(right_motor,100);
        motor(left_motor,100);

        if (analog(3)>2800){
            break;
        }
    }

    motor(right_motor,0);
    motor(left_motor,0);

    msleep(1000);


    movement(arm,down);
    movement(hand,clench);
    movement(arm,up);

    msleep(1000);


    movement(arm,down);
    msleep(1);

    movement(hand,open);


    return 0;
}

void movement(device, angle){
    set_servo_position(device,angle);
    msleep(500);
}
